var b=(a,i,r)=>new Promise((n,F)=>{var p=s=>{try{l(r.next(s))}catch(o){F(o)}},u=s=>{try{l(r.throw(s))}catch(o){F(o)}},l=s=>s.done?n(s.value):Promise.resolve(s.value).then(p,u);l((r=r.apply(a,i)).next())});import{V as B,a as k,cc as E,v as h,c8 as $,X as f,bd as A,x as T,o as v,j as y,z as m,i as P,n as _,h as D,$ as V,Y as K,H as w,dE as S,B as g,J as R}from"./index.051b8e6d.js";import{T as C}from"./index.551cb3a8.js";import{P as W}from"./index.2b14c180.js";import{B as j}from"./BasicForm.99673a00.js";import{u as M}from"./useForm.140b2a6b.js";import"./useRefs.30331c8d.js";import"./PlusOutlined.3505bae4.js";import"./index.c4040988.js";import"./index.900b54f5.js";import"./eagerComputed.2b892fda.js";import"./useWindowSizeFn.dbf4cc23.js";import"./useContentViewHeight.acab2293.js";import"./ArrowLeftOutlined.339bcb08.js";import"./index.47f7791d.js";import"./transButton.64b42905.js";import"./index.3ec80e2e.js";import"./index.9cd125ba.js";import"./index.91f19117.js";import"./index.d091d485.js";import"./index.0a3ccb18.js";import"./index.f9c0747d.js";import"./DeleteOutlined.37a665c8.js";import"./index.1226963b.js";import"./index.2268f048.js";import"./FullscreenOutlined.6ce9a280.js";import"./index.869b6f14.js";import"./index.29220c51.js";import"./index.3ee0c50a.js";import"./index.66663891.js";import"./uuid.2b29000c.js";import"./download.a6ed5dfa.js";import"./base64Conver.08b9f4ec.js";import"./index.f028e9a2.js";import"./index.3ddd1a12.js";import"./uniqBy.6301f91d.js";const N=k({name:"TabsFormDemo",components:{Tabs:C,TabPane:C.TabPane,PageWrapper:W,CollapseContainer:E,BasicForm:j},setup(){const{createMessage:a}=R(),i=h("tabs2"),r=h(!1),n=[],F={showActionButtonGroup:!1,labelWidth:100},p={};for(let o=1;o<=5;++o){const e=`tabs${o}`,c=[],d={};for(let t=1;t<=8;++t)c.push({field:`${e}.field${t}`,label:`${e}-field${t}`,component:"Input",colProps:{span:24}}),d[`field${t}`]=`field: ${e}.field${t}, default value`;p[e]=d,n.push({key:e,tab:e,forceRender:!0,Form:M(Object.assign({schemas:c},F))})}function u(){return b(this,null,function*(){for(const o of n){const{resetFields:e}=o.Form[1];yield e()}})}function l(){return b(this,null,function*(){let o="";r.value=!0;try{const e={};for(const c of n){o=c.key;const{validate:d,getFieldsValue:t}=c.Form[1];yield d(),S(e,t())}a.success("\u63D0\u4EA4\u6210\u529F\uFF01\u8BF7\u6253\u5F00\u63A7\u5236\u53F0\u67E5\u770B")}catch(e){i.value=o}finally{r.value=!1}})}function s(){return b(this,null,function*(){for(const o of n){const{setFieldsValue:e}=o.Form[1];yield e(p)}})}return{omit:$,loading:r,activeKey:i,tabsFormSchema:n,handleReset:u,handleSubmit:l,handleSetValues:s}}}),z={class:"mb-4"},G=g(" \u91CD\u7F6E\u8868\u5355 "),H=g(" \u8BBE\u7F6E\u9ED8\u8BA4\u503C "),I=g(" \u63D0\u4EA4\u8868\u5355 ");function J(a,i,r,n,F,p){const u=f("a-button"),l=f("BasicForm"),s=f("TabPane"),o=f("Tabs"),e=f("CollapseContainer"),c=f("PageWrapper"),d=A("loading");return T((v(),y(c,{title:"\u6807\u7B7E\u9875+\u591A\u7EA7field\u8868\u5355"},{default:m(()=>[P("div",z,[_(u,{onClick:a.handleReset,class:"mr-2"},{default:m(()=>[G]),_:1},8,["onClick"]),_(u,{onClick:a.handleSetValues,class:"mr-2"},{default:m(()=>[H]),_:1},8,["onClick"]),_(u,{onClick:a.handleSubmit,class:"mr-2",type:"primary"},{default:m(()=>[I]),_:1},8,["onClick"])]),_(e,{title:"\u6807\u7B7E\u9875+\u591A\u7EA7field\u8868\u5355"},{default:m(()=>[_(o,{activeKey:a.activeKey,"onUpdate:activeKey":i[0]||(i[0]=t=>a.activeKey=t)},{default:m(()=>[(v(!0),D(w,null,V(a.tabsFormSchema,t=>(v(),y(s,K({key:t.key},a.omit(t,["Form","key"])),{default:m(()=>[_(l,{onRegister:t.Form[0]},null,8,["onRegister"])]),_:2},1040))),128))]),_:1},8,["activeKey"])]),_:1})]),_:1})),[[d,a.loading]])}var Ae=B(N,[["render",J]]);export{Ae as default};
