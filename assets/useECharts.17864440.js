var C=Object.defineProperty;var k=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var w=(s,t,n)=>t in s?C(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n,z=(s,t)=>{for(var n in t||(t={}))S.call(t,n)&&w(s,n,t[n]);if(k)for(var n of k(t))b.call(t,n)&&w(s,n,t[n]);return s};import{a$ as x,f as D,v as y,k as r,aw as p,Q as H,a5 as L,U as R,cL as T,cM as U,aS as h}from"./index.919817c1.js";import{e as M}from"./echarts.3298c1b9.js";function $(s,t="default"){const{getDarkMode:n}=x(),o=D(()=>t==="default"?n.value:t);let e=null,l=v;const a=y({});let g=()=>{};l=h(v,200);const m=D(()=>o.value!=="dark"?a.value:z({backgroundColor:"transparent"},a.value));function c(u=t){const i=r(s);if(!i||!r(i))return;e=M.init(i,u);const{removeEvent:f}=T({el:window,name:"resize",listener:l});g=f;const{widthRef:E,screenEnum:F}=U();(r(E)<=F.MD||i.offsetHeight===0)&&p(()=>{l()},30)}function d(u,i=!0){var f;if(a.value=u,((f=r(s))==null?void 0:f.offsetHeight)===0){p(()=>{d(r(m))},30);return}H(()=>{p(()=>{!e&&(c(o.value),!e)||(i&&(e==null||e.clear()),e==null||e.setOption(r(m)))},30)})}function v(){e==null||e.resize({animation:{duration:300,easing:"quadraticIn"}})}L(()=>o.value,u=>{e&&(e.dispose(),c(u),d(a.value))}),R(()=>{!e||(g(),e.dispose(),e=null)});function O(){return e||c(o.value),e}return{setOptions:d,resize:v,echarts:M,getInstance:O}}export{$ as u};
