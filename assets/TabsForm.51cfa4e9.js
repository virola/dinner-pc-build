var b=(a,i,r)=>new Promise((n,F)=>{var p=s=>{try{l(r.next(s))}catch(o){F(o)}},u=s=>{try{l(r.throw(s))}catch(o){F(o)}},l=s=>s.done?n(s.value):Promise.resolve(s.value).then(p,u);l((r=r.apply(a,i)).next())});import{V as B,a as k,cc as E,v as h,c8 as $,X as f,bd as A,x as T,o as v,j as y,z as m,i as P,n as _,h as D,$ as V,Y as K,H as w,dE as S,B as g,J as R}from"./index.919817c1.js";import{T as C}from"./index.21f2fcb7.js";import{P as W}from"./index.e4b3259e.js";import{B as j}from"./BasicForm.715a36c3.js";import{u as M}from"./useForm.c8dadad1.js";import"./useRefs.f28a0bf3.js";import"./PlusOutlined.bc9c9de1.js";import"./index.0bd6a2c0.js";import"./index.5499644c.js";import"./eagerComputed.79baeeab.js";import"./useWindowSizeFn.c695bcd8.js";import"./useContentViewHeight.28236eba.js";import"./ArrowLeftOutlined.d95f742b.js";import"./index.2ed53404.js";import"./transButton.d6060a92.js";import"./index.d24653ee.js";import"./index.1215f001.js";import"./index.04a6da56.js";import"./index.18c8a6a3.js";import"./index.c2ec20a0.js";import"./index.4a2acf8a.js";import"./DeleteOutlined.377bc287.js";import"./index.22841bd0.js";import"./index.19afb89b.js";import"./FullscreenOutlined.a925bd36.js";import"./index.b59e4656.js";import"./index.1fb10b07.js";import"./index.56b6489d.js";import"./index.7d7196b9.js";import"./uuid.2b29000c.js";import"./download.38abbaa7.js";import"./base64Conver.08b9f4ec.js";import"./index.3df1d9ef.js";import"./index.9ef0f9ba.js";import"./uniqBy.4b65255e.js";const N=k({name:"TabsFormDemo",components:{Tabs:C,TabPane:C.TabPane,PageWrapper:W,CollapseContainer:E,BasicForm:j},setup(){const{createMessage:a}=R(),i=h("tabs2"),r=h(!1),n=[],F={showActionButtonGroup:!1,labelWidth:100},p={};for(let o=1;o<=5;++o){const e=`tabs${o}`,c=[],d={};for(let t=1;t<=8;++t)c.push({field:`${e}.field${t}`,label:`${e}-field${t}`,component:"Input",colProps:{span:24}}),d[`field${t}`]=`field: ${e}.field${t}, default value`;p[e]=d,n.push({key:e,tab:e,forceRender:!0,Form:M(Object.assign({schemas:c},F))})}function u(){return b(this,null,function*(){for(const o of n){const{resetFields:e}=o.Form[1];yield e()}})}function l(){return b(this,null,function*(){let o="";r.value=!0;try{const e={};for(const c of n){o=c.key;const{validate:d,getFieldsValue:t}=c.Form[1];yield d(),S(e,t())}a.success("\u63D0\u4EA4\u6210\u529F\uFF01\u8BF7\u6253\u5F00\u63A7\u5236\u53F0\u67E5\u770B")}catch(e){i.value=o}finally{r.value=!1}})}function s(){return b(this,null,function*(){for(const o of n){const{setFieldsValue:e}=o.Form[1];yield e(p)}})}return{omit:$,loading:r,activeKey:i,tabsFormSchema:n,handleReset:u,handleSubmit:l,handleSetValues:s}}}),z={class:"mb-4"},G=g(" \u91CD\u7F6E\u8868\u5355 "),H=g(" \u8BBE\u7F6E\u9ED8\u8BA4\u503C "),I=g(" \u63D0\u4EA4\u8868\u5355 ");function J(a,i,r,n,F,p){const u=f("a-button"),l=f("BasicForm"),s=f("TabPane"),o=f("Tabs"),e=f("CollapseContainer"),c=f("PageWrapper"),d=A("loading");return T((v(),y(c,{title:"\u6807\u7B7E\u9875+\u591A\u7EA7field\u8868\u5355"},{default:m(()=>[P("div",z,[_(u,{onClick:a.handleReset,class:"mr-2"},{default:m(()=>[G]),_:1},8,["onClick"]),_(u,{onClick:a.handleSetValues,class:"mr-2"},{default:m(()=>[H]),_:1},8,["onClick"]),_(u,{onClick:a.handleSubmit,class:"mr-2",type:"primary"},{default:m(()=>[I]),_:1},8,["onClick"])]),_(e,{title:"\u6807\u7B7E\u9875+\u591A\u7EA7field\u8868\u5355"},{default:m(()=>[_(o,{activeKey:a.activeKey,"onUpdate:activeKey":i[0]||(i[0]=t=>a.activeKey=t)},{default:m(()=>[(v(!0),D(w,null,V(a.tabsFormSchema,t=>(v(),y(s,K({key:t.key},a.omit(t,["Form","key"])),{default:m(()=>[_(l,{onRegister:t.Form[0]},null,8,["onRegister"])]),_:2},1040))),128))]),_:1},8,["activeKey"])]),_:1})]),_:1})),[[d,a.loading]])}var Ae=B(N,[["render",J]]);export{Ae as default};
