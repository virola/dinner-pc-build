var v=Object.defineProperty;var d=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var f=(e,r,o)=>r in e?v(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,g=(e,r)=>{for(var o in r||(r={}))b.call(r,o)&&f(e,o,r[o]);if(d)for(var o of d(r))k.call(r,o)&&f(e,o,r[o]);return e};var l=(e,r,o)=>new Promise((p,n)=>{var c=s=>{try{i(o.next(s))}catch(a){n(a)}},m=s=>{try{i(o.throw(s))}catch(a){n(a)}},i=s=>s.done?p(s.value):Promise.resolve(s.value).then(c,m);i((o=o.apply(e,r)).next())});import{B as w,b as C}from"./index.2268f048.js";import{B as $}from"./BasicForm.99673a00.js";import{u as I}from"./useForm.140b2a6b.js";import{e as R}from"./data.87c79fca.js";import{a as y,v as F,k as u,f as E,V as L,X as B,o as O,j as P,z as S,n as U,Y as V}from"./index.051b8e6d.js";import"./useWindowSizeFn.dbf4cc23.js";import"./FullscreenOutlined.6ce9a280.js";import"./index.3ec80e2e.js";import"./index.9cd125ba.js";import"./index.91f19117.js";import"./index.d091d485.js";import"./index.0a3ccb18.js";import"./index.f9c0747d.js";import"./eagerComputed.2b892fda.js";import"./DeleteOutlined.37a665c8.js";import"./transButton.64b42905.js";import"./index.1226963b.js";import"./index.869b6f14.js";import"./index.29220c51.js";import"./useRefs.30331c8d.js";import"./index.3ee0c50a.js";import"./index.66663891.js";import"./uuid.2b29000c.js";import"./download.a6ed5dfa.js";import"./base64Conver.08b9f4ec.js";import"./index.f028e9a2.js";import"./index.3ddd1a12.js";import"./uniqBy.6301f91d.js";import"./util.28e0e975.js";import"./upload.4012e60b.js";const T=y({name:"BasicInfoModal",components:{BasicModal:w,BasicForm:$},emits:["success","register"],setup(e,{emit:r}){const o=F(!0),p=F(""),[n,{setFieldsValue:c,resetFields:m,validate:i}]=I({labelWidth:120,baseColProps:{span:12},schemas:R,showActionButtonGroup:!1,actionColOptions:{span:23}}),[s,{setModalProps:a,closeModal:h}]=C(t=>l(this,null,function*(){m(),a({confirmLoading:!1}),o.value=!!(t!=null&&t.isUpdate),u(o)&&(p.value=t.record.id,c(g({},t.record)))})),M=E(()=>u(o)?"\u7F16\u8F91\u4FE1\u606F":"\u65B0\u589E\u4FE1\u606F");function _(){return l(this,null,function*(){try{const t=yield i();if(!t)return!1;a({confirmLoading:!0}),h(),r("success",{isUpdate:u(o),values:t})}catch(t){a({confirmLoading:!1})}})}return{registerModal:s,registerForm:n,getTitle:M,handleSubmit:_}}});function j(e,r,o,p,n,c){const m=B("BasicForm"),i=B("BasicModal");return O(),P(i,V(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,width:800,onOk:e.handleSubmit}),{default:S(()=>[U(m,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var Bo=L(T,[["render",j]]);export{Bo as default};
