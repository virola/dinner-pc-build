var l=(o,s,r)=>new Promise((c,i)=>{var d=e=>{try{a(r.next(e))}catch(u){i(u)}},t=e=>{try{a(r.throw(e))}catch(u){i(u)}},a=e=>e.done?c(e.value):Promise.resolve(e.value).then(d,t);a((r=r.apply(o,s)).next())});import{V as C,a as g,cc as h,D as B,s as F,a8 as A,f as b,X as n,o as I,j as S,z as m,n as p,i as _,J as w,f0 as y,f1 as k,B as R}from"./index.919817c1.js";import{B as V}from"./BasicForm.715a36c3.js";import{u as x}from"./useForm.c8dadad1.js";import{a as E}from"./index.f273cfe3.js";import{h as U}from"./avatar.92235c98.js";import{a as $}from"./account.0c803831.js";import{b as M}from"./data.a0e55b88.js";import{u as N}from"./upload.c21f97a6.js";import{R as T,C as j}from"./index.9ef0f9ba.js";import"./index.d24653ee.js";import"./index.1215f001.js";import"./index.04a6da56.js";import"./index.18c8a6a3.js";import"./index.c2ec20a0.js";import"./index.4a2acf8a.js";import"./eagerComputed.79baeeab.js";import"./DeleteOutlined.377bc287.js";import"./transButton.d6060a92.js";import"./index.22841bd0.js";import"./index.19afb89b.js";import"./useWindowSizeFn.c695bcd8.js";import"./FullscreenOutlined.a925bd36.js";import"./index.b59e4656.js";import"./index.1fb10b07.js";import"./useRefs.f28a0bf3.js";import"./index.56b6489d.js";import"./index.7d7196b9.js";import"./uuid.2b29000c.js";import"./download.38abbaa7.js";import"./base64Conver.08b9f4ec.js";import"./index.3df1d9ef.js";import"./uniqBy.4b65255e.js";import"./index.5499644c.js";const z=g({components:{BasicForm:V,CollapseContainer:h,Button:B,ARow:T,ACol:j,CropperAvatar:E},setup(){const{createMessage:o}=w(),s=F(),[r,{setFieldsValue:c}]=x({labelWidth:120,schemas:M,showActionButtonGroup:!1});A(()=>l(this,null,function*(){const t=yield $();c(t)}));const i=b(()=>{const{avatar:t}=s.getUserInfo;return t||U});function d(t){const a=s.getUserInfo;a.avatar=t,s.setUserInfo(a)}return{avatar:i,register:r,uploadApi:N,updateAvatar:d,handleSubmit:()=>{o.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),D=o=>(y("data-v-218f3392"),o=o(),k(),o),G={class:"change-avatar"},J=D(()=>_("div",{class:"mb-2"},"\u5934\u50CF",-1)),P=R(" \u66F4\u65B0\u57FA\u672C\u4FE1\u606F ");function W(o,s,r,c,i,d){const t=n("BasicForm"),a=n("a-col"),e=n("CropperAvatar"),u=n("a-row"),f=n("Button"),v=n("CollapseContainer");return I(),S(v,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:m(()=>[p(u,{gutter:24},{default:m(()=>[p(a,{span:14},{default:m(()=>[p(t,{onRegister:o.register},null,8,["onRegister"])]),_:1}),p(a,{span:10},{default:m(()=>[_("div",G,[J,p(e,{uploadApi:o.uploadApi,value:o.avatar,btnText:"\u66F4\u6362\u5934\u50CF",btnProps:{preIcon:"ant-design:cloud-upload-outlined"},onChange:o.updateAvatar,width:"150"},null,8,["uploadApi","value","onChange"])])]),_:1})]),_:1}),p(f,{type:"primary",onClick:o.handleSubmit},{default:m(()=>[P]),_:1},8,["onClick"])]),_:1})}var wo=C(z,[["render",W],["__scopeId","data-v-218f3392"]]);export{wo as default};
