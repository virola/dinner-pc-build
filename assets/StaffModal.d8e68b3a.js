var _=Object.defineProperty,C=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var g=(e,r,o)=>r in e?_(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,l=(e,r)=>{for(var o in r||(r={}))k.call(r,o)&&g(e,o,r[o]);if(f)for(var o of f(r))w.call(r,o)&&g(e,o,r[o]);return e},B=(e,r)=>C(e,b(r));var u=(e,r,o)=>new Promise((n,m)=>{var c=t=>{try{i(o.next(t))}catch(a){m(a)}},p=t=>{try{i(o.throw(t))}catch(a){m(a)}},i=t=>t.done?n(t.value):Promise.resolve(t.value).then(c,p);i((o=o.apply(e,r)).next())});import{B as A,b as S}from"./index.2268f048.js";import{B as $}from"./BasicForm.99673a00.js";import{u as R}from"./useForm.140b2a6b.js";import{staffFormSchema as y}from"./staff.data.f91be636.js";import{a as L,v as F,k as d,f as O,V as P,X as h,o as U,j as V,z as I,n as T,Y as j}from"./index.051b8e6d.js";import"./useWindowSizeFn.dbf4cc23.js";import"./FullscreenOutlined.6ce9a280.js";import"./index.3ec80e2e.js";import"./index.9cd125ba.js";import"./index.91f19117.js";import"./index.d091d485.js";import"./index.0a3ccb18.js";import"./index.f9c0747d.js";import"./eagerComputed.2b892fda.js";import"./DeleteOutlined.37a665c8.js";import"./transButton.64b42905.js";import"./index.1226963b.js";import"./index.869b6f14.js";import"./index.29220c51.js";import"./useRefs.30331c8d.js";import"./index.3ee0c50a.js";import"./index.66663891.js";import"./uuid.2b29000c.js";import"./download.a6ed5dfa.js";import"./base64Conver.08b9f4ec.js";import"./index.f028e9a2.js";import"./index.3ddd1a12.js";import"./uniqBy.6301f91d.js";import"./upload.4012e60b.js";const z=L({name:"StaffModal",components:{BasicModal:A,BasicForm:$},emits:["success","register"],setup(e,{emit:r}){const o=F(!0),n=F(""),[m,{setFieldsValue:c,resetFields:p,validate:i}]=R({labelWidth:100,baseColProps:{span:8},schemas:y,showActionButtonGroup:!1,actionColOptions:{span:23}}),[t,{setModalProps:a,closeModal:M}]=S(s=>u(this,null,function*(){p(),a({confirmLoading:!1}),o.value=!!(s!=null&&s.isUpdate),d(o)&&(n.value=s.record.id,c(l({},s.record)))})),v=O(()=>d(o)?"\u7F16\u8F91\u4ECE\u4E1A\u4EBA\u5458":"\u65B0\u589E\u4ECE\u4E1A\u4EBA\u5458");function E(){return u(this,null,function*(){try{const s=yield i();a({confirmLoading:!0}),M(),r("success",{isUpdate:d(o),values:B(l({},s),{id:n.value})})}catch(s){a({confirmLoading:!1})}})}return{registerModal:t,registerForm:m,getTitle:v,handleSubmit:E}}});function G(e,r,o,n,m,c){const p=h("BasicForm"),i=h("BasicModal");return U(),V(i,j(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,width:800,onOk:e.handleSubmit}),{default:I(()=>[T(p,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var Mo=P(z,[["render",G]]);export{Mo as default};
