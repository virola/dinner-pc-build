var v=Object.defineProperty;var d=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var f=(e,r,o)=>r in e?v(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,F=(e,r)=>{for(var o in r||(r={}))C.call(r,o)&&f(e,o,r[o]);if(d)for(var o of d(r))R.call(r,o)&&f(e,o,r[o]);return e};var u=(e,r,o)=>new Promise((p,n)=>{var c=s=>{try{i(o.next(s))}catch(a){n(a)}},m=s=>{try{i(o.throw(s))}catch(a){n(a)}},i=s=>s.done?p(s.value):Promise.resolve(s.value).then(c,m);i((o=o.apply(e,r)).next())});import{B as b,b as k}from"./index.19afb89b.js";import{B as w}from"./BasicForm.715a36c3.js";import{u as y}from"./useForm.c8dadad1.js";import{editFormSchema as $}from"./data.3842ba2b.js";import{a as E,v as g,k as l,f as L,V as O,X as B,o as P,j as S,z as U,n as V,Y as D}from"./index.919817c1.js";import"./useWindowSizeFn.c695bcd8.js";import"./FullscreenOutlined.a925bd36.js";import"./index.d24653ee.js";import"./index.1215f001.js";import"./index.04a6da56.js";import"./index.18c8a6a3.js";import"./index.c2ec20a0.js";import"./index.4a2acf8a.js";import"./eagerComputed.79baeeab.js";import"./DeleteOutlined.377bc287.js";import"./transButton.d6060a92.js";import"./index.22841bd0.js";import"./index.b59e4656.js";import"./index.1fb10b07.js";import"./useRefs.f28a0bf3.js";import"./index.56b6489d.js";import"./index.7d7196b9.js";import"./uuid.2b29000c.js";import"./download.38abbaa7.js";import"./base64Conver.08b9f4ec.js";import"./index.3df1d9ef.js";import"./index.9ef0f9ba.js";import"./uniqBy.4b65255e.js";import"./upload.c21f97a6.js";const I=E({name:"RecyclerModal",components:{BasicModal:b,BasicForm:w},emits:["success","register"],setup(e,{emit:r}){const o=g(!0),p=g(""),[n,{setFieldsValue:c,resetFields:m,validate:i}]=y({labelWidth:100,baseColProps:{span:8},schemas:$,showActionButtonGroup:!1,actionColOptions:{span:23}}),[s,{setModalProps:a,closeModal:h}]=k(t=>u(this,null,function*(){m(),a({confirmLoading:!1}),o.value=!!(t!=null&&t.isUpdate),l(o)&&(p.value=t.record.id,c(F({},t.record)))})),M=L(()=>l(o)?"\u7F16\u8F91\u5E9F\u5F03\u7269\u6536\u8FD0\u516C\u53F8":"\u65B0\u589E\u5E9F\u5F03\u7269\u6536\u8FD0\u516C\u53F8");function _(){return u(this,null,function*(){try{const t=yield i();if(!t)return!1;a({confirmLoading:!0}),h(),r("success",{isUpdate:l(o),values:t})}catch(t){a({confirmLoading:!1})}})}return{registerModal:s,registerForm:n,getTitle:M,handleSubmit:_}}});function T(e,r,o,p,n,c){const m=B("BasicForm"),i=B("BasicModal");return P(),S(i,D(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,width:800,onOk:e.handleSubmit}),{default:U(()=>[V(m,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var go=O(I,[["render",T]]);export{go as default};
