var v=Object.defineProperty;var d=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var f=(e,r,o)=>r in e?v(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,F=(e,r)=>{for(var o in r||(r={}))C.call(r,o)&&f(e,o,r[o]);if(d)for(var o of d(r))R.call(r,o)&&f(e,o,r[o]);return e};var u=(e,r,o)=>new Promise((p,n)=>{var c=s=>{try{i(o.next(s))}catch(a){n(a)}},m=s=>{try{i(o.throw(s))}catch(a){n(a)}},i=s=>s.done?p(s.value):Promise.resolve(s.value).then(c,m);i((o=o.apply(e,r)).next())});import{B as b,b as k}from"./index.2268f048.js";import{B as w}from"./BasicForm.99673a00.js";import{u as y}from"./useForm.140b2a6b.js";import{editFormSchema as $}from"./data.1dc43c96.js";import{a as E,v as g,k as l,f as L,V as O,X as B,o as P,j as S,z as U,n as V,Y as D}from"./index.051b8e6d.js";import"./useWindowSizeFn.dbf4cc23.js";import"./FullscreenOutlined.6ce9a280.js";import"./index.3ec80e2e.js";import"./index.9cd125ba.js";import"./index.91f19117.js";import"./index.d091d485.js";import"./index.0a3ccb18.js";import"./index.f9c0747d.js";import"./eagerComputed.2b892fda.js";import"./DeleteOutlined.37a665c8.js";import"./transButton.64b42905.js";import"./index.1226963b.js";import"./index.869b6f14.js";import"./index.29220c51.js";import"./useRefs.30331c8d.js";import"./index.3ee0c50a.js";import"./index.66663891.js";import"./uuid.2b29000c.js";import"./download.a6ed5dfa.js";import"./base64Conver.08b9f4ec.js";import"./index.f028e9a2.js";import"./index.3ddd1a12.js";import"./uniqBy.6301f91d.js";import"./upload.4012e60b.js";const I=E({name:"RecyclerModal",components:{BasicModal:b,BasicForm:w},emits:["success","register"],setup(e,{emit:r}){const o=g(!0),p=g(""),[n,{setFieldsValue:c,resetFields:m,validate:i}]=y({labelWidth:100,baseColProps:{span:8},schemas:$,showActionButtonGroup:!1,actionColOptions:{span:23}}),[s,{setModalProps:a,closeModal:h}]=k(t=>u(this,null,function*(){m(),a({confirmLoading:!1}),o.value=!!(t!=null&&t.isUpdate),l(o)&&(p.value=t.record.id,c(F({},t.record)))})),M=L(()=>l(o)?"\u7F16\u8F91\u5E9F\u5F03\u7269\u6536\u8FD0\u516C\u53F8":"\u65B0\u589E\u5E9F\u5F03\u7269\u6536\u8FD0\u516C\u53F8");function _(){return u(this,null,function*(){try{const t=yield i();if(!t)return!1;a({confirmLoading:!0}),h(),r("success",{isUpdate:l(o),values:t})}catch(t){a({confirmLoading:!1})}})}return{registerModal:s,registerForm:n,getTitle:M,handleSubmit:_}}});function T(e,r,o,p,n,c){const m=B("BasicForm"),i=B("BasicModal");return P(),S(i,D(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,width:800,onOk:e.handleSubmit}),{default:U(()=>[V(m,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var go=O(I,[["render",T]]);export{go as default};
