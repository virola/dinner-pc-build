var _=Object.defineProperty,C=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var g=(e,r,o)=>r in e?_(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,l=(e,r)=>{for(var o in r||(r={}))k.call(r,o)&&g(e,o,r[o]);if(f)for(var o of f(r))w.call(r,o)&&g(e,o,r[o]);return e},B=(e,r)=>C(e,b(r));var u=(e,r,o)=>new Promise((n,m)=>{var c=t=>{try{i(o.next(t))}catch(a){m(a)}},p=t=>{try{i(o.throw(t))}catch(a){m(a)}},i=t=>t.done?n(t.value):Promise.resolve(t.value).then(c,p);i((o=o.apply(e,r)).next())});import{B as A,b as S}from"./index.19afb89b.js";import{B as $}from"./BasicForm.715a36c3.js";import{u as R}from"./useForm.c8dadad1.js";import{staffFormSchema as y}from"./staff.data.b89ee968.js";import{a as L,v as F,k as d,f as O,V as P,X as h,o as U,j as V,z as I,n as T,Y as j}from"./index.919817c1.js";import"./useWindowSizeFn.c695bcd8.js";import"./FullscreenOutlined.a925bd36.js";import"./index.d24653ee.js";import"./index.1215f001.js";import"./index.04a6da56.js";import"./index.18c8a6a3.js";import"./index.c2ec20a0.js";import"./index.4a2acf8a.js";import"./eagerComputed.79baeeab.js";import"./DeleteOutlined.377bc287.js";import"./transButton.d6060a92.js";import"./index.22841bd0.js";import"./index.b59e4656.js";import"./index.1fb10b07.js";import"./useRefs.f28a0bf3.js";import"./index.56b6489d.js";import"./index.7d7196b9.js";import"./uuid.2b29000c.js";import"./download.38abbaa7.js";import"./base64Conver.08b9f4ec.js";import"./index.3df1d9ef.js";import"./index.9ef0f9ba.js";import"./uniqBy.4b65255e.js";import"./upload.c21f97a6.js";const z=L({name:"StaffModal",components:{BasicModal:A,BasicForm:$},emits:["success","register"],setup(e,{emit:r}){const o=F(!0),n=F(""),[m,{setFieldsValue:c,resetFields:p,validate:i}]=R({labelWidth:100,baseColProps:{span:8},schemas:y,showActionButtonGroup:!1,actionColOptions:{span:23}}),[t,{setModalProps:a,closeModal:M}]=S(s=>u(this,null,function*(){p(),a({confirmLoading:!1}),o.value=!!(s!=null&&s.isUpdate),d(o)&&(n.value=s.record.id,c(l({},s.record)))})),v=O(()=>d(o)?"\u7F16\u8F91\u4ECE\u4E1A\u4EBA\u5458":"\u65B0\u589E\u4ECE\u4E1A\u4EBA\u5458");function E(){return u(this,null,function*(){try{const s=yield i();a({confirmLoading:!0}),M(),r("success",{isUpdate:d(o),values:B(l({},s),{id:n.value})})}catch(s){a({confirmLoading:!1})}})}return{registerModal:t,registerForm:m,getTitle:v,handleSubmit:E}}});function G(e,r,o,n,m,c){const p=h("BasicForm"),i=h("BasicModal");return U(),V(i,j(e.$attrs,{onRegister:e.registerModal,title:e.getTitle,width:800,onOk:e.handleSubmit}),{default:I(()=>[T(p,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}var Mo=P(z,[["render",G]]);export{Mo as default};
